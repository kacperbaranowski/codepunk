---
// Contact section with neobrutalist form
---

<section id="contact" class="py-24 md:py-32 px-6 md:px-12 bg-primary overflow-hidden">
  <div class="container mx-auto">
    <div class="max-w-4xl mx-auto">
      <!-- Header -->
      <div class="mb-16 text-center">
        <div class="overflow-hidden">
          <p class="contact-line font-mono text-sm mb-4 translate-y-full">// GET IN TOUCH</p>
        </div>
        <div class="overflow-hidden">
          <h2 class="contact-line text-5xl md:text-6xl lg:text-7xl font-bold translate-y-full">
            LET'S BUILD<br />SOMETHING
          </h2>
        </div>
      </div>

      <!-- Form -->
      <form id="contact-form" class="space-y-6">
        <div class="grid md:grid-cols-2 gap-6">
          <div class="form-field opacity-0">
            <label for="name" class="block font-bold mb-2">NAME</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full neo-border neo-shadow bg-white px-6 py-4 font-sans text-lg focus:outline-none focus:ring-4 focus:ring-secondary"
              placeholder="John Doe"
            />
          </div>
          <div class="form-field opacity-0">
            <label for="email" class="block font-bold mb-2">EMAIL</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full neo-border neo-shadow bg-white px-6 py-4 font-sans text-lg focus:outline-none focus:ring-4 focus:ring-secondary"
              placeholder="john@example.com"
            />
          </div>
        </div>

        <div class="form-field opacity-0">
          <label for="message" class="block font-bold mb-2">MESSAGE</label>
          <textarea
            id="message"
            name="message"
            rows="6"
            required
            class="w-full neo-border neo-shadow bg-white px-6 py-4 font-sans text-lg focus:outline-none focus:ring-4 focus:ring-secondary resize-none"
            placeholder="Tell me about your project..."
          ></textarea>
        </div>

        <div class="form-field opacity-0 pt-4">
          <button
            type="submit"
            class="magnetic neo-border neo-shadow-secondary bg-secondary text-white px-12 py-6 font-bold text-xl tilt-right hover:bg-black hover:rotate-0 transition-all w-full md:w-auto"
          >
            SEND MESSAGE
          </button>
        </div>
      </form>

      <!-- Alternative contact -->
      <div class="mt-16 text-center">
        <p class="font-mono text-sm mb-4">OR EMAIL ME DIRECTLY</p>
        <a href="mailto:hello@codepunk.dev" class="font-bold text-2xl md:text-3xl hover:text-secondary transition-colors neo-border neo-shadow bg-white px-6 py-3 inline-block tilt-left hover:rotate-0">
          hello@codepunk.dev
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // Header lines
  gsap.to(".contact-line", {
    y: 0,
    duration: 0.8,
    stagger: 0.1,
    ease: "power3.out",
    scrollTrigger: {
      trigger: "#contact",
      start: "top 70%",
      toggleActions: "play none none reverse",
    },
  });

  // Form fields
  gsap.to(".form-field", {
    opacity: 1,
    y: 0,
    stagger: 0.15,
    duration: 0.6,
    ease: "power3.out",
    scrollTrigger: {
      trigger: "#contact-form",
      start: "top 70%",
      toggleActions: "play none none reverse",
    },
  });

  // Form submission
  const form = document.getElementById("contact-form") as HTMLFormElement;
  form?.addEventListener("submit", (e) => {
    e.preventDefault();

    const button = form.querySelector("button") as HTMLButtonElement;
    const originalText = button.textContent;

    button.textContent = "SENDING...";
    button.disabled = true;

    // Simulate sending (replace with actual form handler)
    setTimeout(() => {
      button.textContent = "SENT!";
      button.classList.remove("bg-secondary");
      button.classList.add("bg-lime", "text-black");

      setTimeout(() => {
        button.textContent = originalText;
        button.disabled = false;
        button.classList.remove("bg-lime", "text-black");
        button.classList.add("bg-secondary");
        form.reset();
      }, 2000);
    }, 1500);
  });
</script>
