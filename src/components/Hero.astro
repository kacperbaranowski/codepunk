---
// Neobrutalist Hero section
const codeContent = `<span class="text-secondary">const</span> <span class="text-cyan">developer</span> = {
  <span class="text-lime">name</span>: <span class="text-primary">"CODEPUNK"</span>,
  <span class="text-lime">stack</span>: [
    <span class="text-primary">"Next.js"</span>,
    <span class="text-primary">"React"</span>,
    <span class="text-primary">"TypeScript"</span>,
    <span class="text-primary">"NestJS"</span>,
    <span class="text-primary">"WordPress"</span>
  ],
  <span class="text-lime">available</span>: <span class="text-cyan">true</span>,
  <span class="text-lime">coffee</span>: <span class="text-orange">Infinity</span>
};

<span class="text-secondary">export default</span> developer;`;
---

<section id="hero" class="min-h-screen pt-32 md:pt-40 pb-20 px-6 md:px-12 relative overflow-hidden">
  <div class="container mx-auto">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
      <!-- Left: Content -->
      <div class="relative z-10">
        <!-- Floating badges -->
        <div class="flex flex-wrap gap-3 mb-8">
          <span class="hero-badge hero-badge-1 neo-border neo-shadow-lime bg-lime px-4 py-2 font-bold text-sm tilt-left opacity-0 scale-0">
            AVAILABLE FOR WORK
          </span>
          <span class="hero-badge hero-badge-2 neo-border neo-shadow-cyan bg-cyan px-4 py-2 font-bold text-sm tilt-right opacity-0 scale-0">
            TYPESCRIPT
          </span>
          <span class="hero-badge hero-badge-3 neo-border neo-shadow-secondary bg-secondary text-white px-4 py-2 font-bold text-sm tilt-left opacity-0 scale-0">
            100% CUSTOM
          </span>
        </div>

        <!-- Headline -->
        <div class="overflow-hidden mb-6">
          <h1 id="hero-headline" class="text-5xl md:text-6xl lg:text-7xl font-bold leading-[0.9] translate-y-full">
            I BUILD<br />
            WEBSITES<br />
            THAT<br />
            <span class="text-secondary">ACTUALLY</span><br />
            WORK
          </h1>
        </div>

        <!-- Description -->
        <div class="overflow-hidden mb-10">
          <p id="hero-text" class="text-xl md:text-2xl max-w-lg opacity-0">
            Fullstack developer crafting fast, accessible, and user-friendly web experiences with modern technologies.
          </p>
        </div>

        <!-- CTAs -->
        <div class="flex flex-wrap gap-4">
          <a href="#projects" id="hero-cta-1" class="magnetic neo-border neo-shadow bg-primary px-8 py-4 font-bold text-lg tilt-left hover:bg-secondary hover:text-white hover:rotate-0 transition-all opacity-0">
            VIEW MY WORK
          </a>
          <a href="#contact" id="hero-cta-2" class="magnetic neo-border neo-shadow bg-white px-8 py-4 font-bold text-lg tilt-right hover:bg-cyan hover:rotate-0 transition-all opacity-0">
            LET&apos;S TALK
          </a>
        </div>
      </div>

      <!-- Right: Code block visual -->
      <div class="relative">
        <div id="hero-code" class="neo-border neo-shadow-primary bg-black text-white p-6 md:p-8 tilt-right opacity-0">
          <div class="flex items-center gap-2 mb-4">
            <span class="w-3 h-3 rounded-full bg-secondary"></span>
            <span class="w-3 h-3 rounded-full bg-primary"></span>
            <span class="w-3 h-3 rounded-full bg-lime"></span>
          </div>
          <pre class="font-mono text-sm md:text-base overflow-x-auto"><code set:html={codeContent}></code></pre>
        </div>

        <!-- Decorative elements -->
        <div class="absolute -top-4 -right-4 w-24 h-24 bg-secondary neo-border -z-10 tilt-left"></div>
        <div class="absolute -bottom-6 -left-6 w-16 h-16 bg-cyan neo-border -z-10 tilt-right"></div>
      </div>
    </div>

    <!-- Scroll indicator -->
    <div id="scroll-indicator" class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-0">
      <span class="font-mono text-sm">SCROLL</span>
      <div class="w-6 h-10 neo-border bg-white flex items-start justify-center p-1">
        <div class="scroll-dot w-2 h-2 bg-black"></div>
      </div>
    </div>
  </div>
</section>

<script>
  import gsap from "gsap";

  document.addEventListener("preloaderComplete", () => {
    const tl = gsap.timeline({ delay: 0.2 });

    // Headline slide up with back.out
    tl.to("#hero-headline", {
      y: 0,
      duration: 1,
      ease: "back.out(1.2)",
    });

    // Text fade in
    tl.to("#hero-text", {
      opacity: 1,
      duration: 0.8,
      ease: "power3.out",
    }, "-=0.6");

    // CTAs staggered slide up with rotation
    tl.to(["#hero-cta-1", "#hero-cta-2"], {
      opacity: 1,
      y: 0,
      stagger: 0.15,
      duration: 0.8,
      ease: "back.out(1.4)",
    }, "-=0.4");

    // Code block
    tl.to("#hero-code", {
      opacity: 1,
      duration: 0.8,
      ease: "power3.out",
    }, "-=0.6");

    // Badges scale in with back.out
    tl.fromTo(".hero-badge",
      { scale: 0, opacity: 0 },
      {
        scale: 1,
        opacity: 1,
        stagger: 0.1,
        duration: 0.6,
        ease: "back.out(2)",
      },
      "-=0.4"
    );

    // Floating animation for badges
    gsap.to(".hero-badge-1", {
      y: -10,
      rotation: -3,
      duration: 2.5,
      ease: "sine.inOut",
      repeat: -1,
      yoyo: true,
    });

    gsap.to(".hero-badge-2", {
      y: -8,
      rotation: 2,
      duration: 3,
      ease: "sine.inOut",
      repeat: -1,
      yoyo: true,
      delay: 0.5,
    });

    gsap.to(".hero-badge-3", {
      y: -12,
      rotation: -2,
      duration: 2.8,
      ease: "sine.inOut",
      repeat: -1,
      yoyo: true,
      delay: 1,
    });

    // Scroll indicator
    tl.to("#scroll-indicator", {
      opacity: 1,
      duration: 0.6,
      ease: "power3.out",
    }, "-=0.2");

    // Continuous scroll dot animation
    gsap.to(".scroll-dot", {
      y: 20,
      duration: 1,
      ease: "power2.inOut",
      repeat: -1,
      yoyo: true,
    });
  });
</script>
